<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario</title>
</head>
<body>
    <form>
        <h1>Configuraión de usuario</h1>
        <h2>Inicio de sesión</h2>

        <div style="margin-bottom: 15px">
            <label for="frecuencia">¿Cuándo quieres que Windows te vuelva a pedir inicio de sesión?</label>
            <select name="frecuencia" id="frecuencia">
                <option value="suspensión">Cuando el PC se activa tras haber estado en suspensión</option>
                <option value="nunca">Nunca</option>
            </select>
        </div>

        <h2>Contraseña</h2>

        <div style="margin-bottom: 15px">
            <label for="password">Nueva contraseña</label>
            <input type="password" id="password">
        </div>

        <div style="margin-bottom: 15px">
            <label for="repetir">Vuelve a escribir la contraseña</label>
            <input type="password" id="repetir">
        </div>

        <div style="margin-bottom: 15px">
            <label for="indicio">Indicio de contraseña</label>
            <textarea name="indicio" id="indicio"></textarea>
        </div>

        <h2>Privacidad</h2>

        <div style="margin-bottom: 15px">
            <input type="checkbox" id="privacidad" value="privacidad">
            <label for="privacidad">Mostrar detalles de la cuenta en la pantalla de inicio de sesión </label>
        </div>

        <div>
            <button type="submit" id="aceptar">Aceptar</button>
        </div>
    </form>

    <script>
        // Selecciona el boton con ID 'aceptar' y asocia un evento 'click' para ejecutar la función
        document.getElementById('aceptar').addEventListener('click', function(event) {

            // Obtenemos los elementos de los campos de entrada por su ID
            let password = document.getElementById('password');
            let repetir = document.getElementById('repetir');
            let indicio = document.getElementById('indicio');
    
            // Contraseña mínimo de 6 caracteres, empezar por una letra mayúscula y tener al menos un dígito
            let patronPassword = /^(?=[A-Z])(?=.*\d)[A-Za-z\d]{6,}$/;
    
            // Comprobar la contraseña
            if (!password.value.match(patronPassword)) { //si no concuerdan
                alert("La contraseña debe empezar por una letra mayúscula, tener un mínimo de 6 caracteres y contener un dígito.");
                password.focus(); // tomara el foco
                password.select(); // se selecciona su contenido
                return false;
            }
    
            // Comparamos los valores de los campos de contraseña y repetir contraseña
            if (password.value !== repetir.value) { // si no es igual
                alert("La contraseña no coincide. Vuelve a intentarlo.");
                password.focus(); // toma el foco de la primera contraseña
                password.select(); // se selecciona su contenido
                return false;
            }
    
            // Verificar si el indicio contiene el valor de la contraseña
            if (indicio.value.includes(password.value)) {
                alert("El indicio de contraseña no puede contener la contraseña.");
                indicio.focus(); // toma el foco
                indicio.select(); // se selecciona el contenido
                return false;
            }

        });
    </script>
    
</body>
</html>